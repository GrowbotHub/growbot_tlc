<launch>
	<arg name="simulation" default="true" />
	<arg name="ip" default="192.168.1.3" />

	<machine name="tlc" address="localhost" />
	<machine if="$(eval not simulation)" name="rpi" address="$(eval ip)" user="pi" password="raspberry" env-loader="/home/pi/ros_catkin_ws/devel/env.sh" timeout="20" />
	<machine if="$(eval simulation)" name="rpi" address="localhost" />

	<node machine="tlc" pkg="growbot_tlc" type="main.py" name="main" output="screen" respawn="true"/>
	<node if="$(eval not simulation)" machine="rpi" pkg="growbot_rpi" type="pos_controller.py" name="pos_controller" output="log" respawn="true"/>
	<node if="$(eval not simulation)" machine="rpi" pkg="growbot_rpi" type="sensor_interface.py" name="sensor_interface" output="log" respawn="true"/>
	<node machine="rpi" pkg="growbot_rpi" type="gui_ressources.py" name="gui_ressources" output="log" respawn="true"/>
	<node machine="rpi" pkg="growbot_rpi" type="server.py" name="server" output="screen" respawn="true"/>
	<node machine="rpi" pkg="growbot_rpi" type="image_processing.py" name="image_procesing" output="log" respawn="true"/>
	<node if="$(eval not simulation)" machine="rpi" pkg="growbot_rpi" type="dispenser.py" name="dispenser" output="log" respawn="true"/>
</launch>